{
    "criteria": {
        "open_container":{
            "trigger": "minecraft:any_block_use",
            "conditions": {
                "player": [
                    {
                        "entity": "this",
                        "condition": "entity_scores",
                        "scores": {
                            "tpa.book": 2
                        }
                    }
                ],
                "location": [
                    {
                        "condition": "any_of",
                        "terms": [
                            {
                                "condition": "block_state_property",
                                "block": "minecraft:chest"
                            },
                            {
                                "condition": "block_state_property",
                                "block": "minecraft:trapped_chest"
                            },
                            {
                                "condition": "block_state_property",
                                "block": "minecraft:barrel"
                            },
                            {
                                "condition": "block_state_property",
                                "block": "minecraft:furnace"
                            },
                            {
                                "condition": "block_state_property",
                                "block": "minecraft:smoker"
                            },
                            {
                                "condition": "block_state_property",
                                "block": "minecraft:blast_furnace"
                            },
                            {
                                "condition": "block_state_property",
                                "block": "minecraft:dispenser"
                            },
                            {
                                "condition": "block_state_property",
                                "block": "minecraft:dropper"
                            },
                            {
                                "condition": "block_state_property",
                                "block": "minecraft:hopper"
                            },
                            {
                                "condition": "block_state_property",
                                "block": "minecraft:crafter"
                            },
                            {
                                "condition": "minecraft:location_check",
                                "predicate": {
                                    "block": {
                                        "blocks": "#minecraft:copper_chests"
                                    }
                                }
                            },
                            {
                                "condition": "minecraft:location_check",
                                "predicate": {
                                    "block": {
                                        "blocks": "#minecraft:shulker_boxes"
                                    }
                                }
                            }
                        ]
                    }
                ]
            }
        },
        "interact_block_container":{
            "trigger": "minecraft:item_used_on_block",
            "conditions": {
                "player": [
                    {
                        "entity": "this",
                        "condition": "entity_scores",
                        "scores": {
                            "tpa.book": 2
                        }
                    }
                ],
                "location": [
                    {
                        "condition": "any_of",
                        "terms": [
                            {
                                "condition": "block_state_property",
                                "block": "minecraft:lectern"
                            },
                            {
                                "condition": "block_state_property",
                                "block": "minecraft:chiseled_bookshelf"
                            },
                            {
                                "condition": "block_state_property",
                                "block": "minecraft:decorated_pot"
                            }
                        ]
                    }
                ]
            }
        },
        "interact_minecart":{
            "trigger": "player_interacted_with_entity",
            "conditions": {
                "player": [
                    {
                        "entity": "this",
                        "condition": "entity_scores",
                        "scores": {
                            "tpa.book": 2
                        }
                    }
                ],
                "entity": [
                    {
                        "entity": "this",
                        "condition": "entity_properties",
                        "predicate": {
                            "type": [
                                "minecraft:chest_minecart",
                                "minecraft:hopper_minecart"
                            ]
                        }
                    }
                ]
            }
        },
        "interact_entity_container":{
            "trigger": "player_interacted_with_entity",
            "conditions": {
                "player": [
                    {
                        "condition": "all_of",
                        "terms": [
                            {
                                "entity": "this",
                                "condition": "minecraft:entity_scores",
                                "scores": {
                                    "tpa.book": 2
                                }
                            },
                            {
                                "condition": "minecraft:entity_properties",
                                "entity": "this",
                                "predicate": {
                                    "flags": {
                                        "is_sneaking": true
                                    }
                                }
                            }
                        ]
                    }
                ],
                "entity": [
                    {
                        "entity": "this",
                        "condition": "entity_properties",
                        "predicate": {
                            "type": [
                                "minecraft:oak_chest_boat",
                                "minecraft:spruce_chest_boat",
                                "minecraft:birch_chest_boat",
                                "minecraft:jungle_chest_boat",
                                "minecraft:acacia_chest_boat",
                                "minecraft:dark_oak_chest_boat",
                                "minecraft:mangrove_chest_boat",
                                "minecraft:cherry_chest_boat",
                                "minecraft:pale_oak_chest_boat",
                                "minecraft:bamboo_chest_raft",
                                "minecraft:mule",
                                "minecraft:donkey",
                                "minecraft:llama",
                                "minecraft:trader_llama"
                            ]
                        }
                    }
                ]
            }
        }
    },
    "requirements": [["open_container", "interact_block_container", "interact_minecart", "interact_entity_container"]],
    "rewards": {
        "function": "tpa:book/set_interaction_context"
    }
}