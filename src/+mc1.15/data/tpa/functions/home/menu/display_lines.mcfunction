# Parent function: tpa:home/menu

# Get dimension
data modify storage tpa:tpa temp.args.id set from entity @s Dimension
function tpa:dimension/get
execute store result score #dim_num tpa.variables run data get storage tpa:tpa temp.dimension.id

# Show exist home line
execute if data storage tpa:tpa temp.home[0].x if score #dim_num tpa.variables matches 0 run tellraw @s ["  ",{"storage": "tpa:tpa","nbt": "loaded_lang.home_number","color": "green","hoverEvent": {"action": "show_text","value": [{"nbt": "temp.home[0].x", "storage": "tpa:tpa", "color": "green"}," ",{"nbt": "temp.home[0].y", "storage": "tpa:tpa", "color": "green"}," ",{"nbt": "temp.home[0].z", "storage": "tpa:tpa", "color": "green"}]}},{"score": {"name": "#i", "objective": "tpa.variables"}, "color": "green"}," ",{"storage": "tpa:tpa","nbt": "loaded_lang.home_display_tp_button","hoverEvent": {"action": "show_text","value": [{"storage": "tpa:tpa", "nbt": "loaded_lang.home_display_tp_button_hoverevent"},{"storage": "tpa:tpa", "nbt": "loaded_lang.hoverevent_suggest_tip"}," §l/trigger tpa.home set ",{"storage": "tpa:tpa", "nbt": "temp.home[0].number", "bold": true, "underlined": true}]},"clickEvent": {"action": "suggest_command","value": "/trigger tpa.home set "}}," ",{"storage": "tpa:tpa","nbt": "loaded_lang.home_display_rm_button","hoverEvent": {"action": "show_text","value": [{"storage": "tpa:tpa", "nbt": "loaded_lang.home_display_rm_button_hoverevent"},{"storage": "tpa:tpa", "nbt": "loaded_lang.hoverevent_suggest_tip"}," §l/trigger tpa.removehome set ",{"storage": "tpa:tpa", "nbt": "temp.home[0].number", "bold": true, "underlined": true}]},"clickEvent": {"action": "suggest_command","value": "/trigger tpa.removehome set "}}," ",{"storage": "tpa:tpa","nbt": "loaded_lang.home_display_set_button","hoverEvent": {"action": "show_text","value": [{"storage": "tpa:tpa", "nbt": "loaded_lang.home_display_set_button_hoverevent"},{"storage": "tpa:tpa", "nbt": "loaded_lang.hoverevent_suggest_tip"}," §l/trigger tpa.sethome set ",{"storage": "tpa:tpa", "nbt": "temp.home[0].number", "bold": true, "underlined": true}]},"clickEvent": {"action": "suggest_command","value": "/trigger tpa.sethome set "}}]
execute if data storage tpa:tpa temp.home[0].x if score #dim_num tpa.variables matches -1 run tellraw @s ["  ",{"storage": "tpa:tpa","nbt": "loaded_lang.home_number","color": "red","hoverEvent": {"action": "show_text","value": [{"nbt": "temp.home[0].x", "storage": "tpa:tpa", "color": "red"}," ",{"nbt": "temp.home[0].y", "storage": "tpa:tpa", "color": "red"}," ",{"nbt": "temp.home[0].z", "storage": "tpa:tpa", "color": "red"}]}},{"score": {"name": "#i", "objective": "tpa.variables"}, "color": "red"}," ",{"storage": "tpa:tpa","nbt": "loaded_lang.home_display_tp_button","hoverEvent": {"action": "show_text","value": [{"storage": "tpa:tpa", "nbt": "loaded_lang.home_display_tp_button_hoverevent"},{"storage": "tpa:tpa", "nbt": "loaded_lang.hoverevent_suggest_tip"}," §l/trigger tpa.home set ",{"storage": "tpa:tpa", "nbt": "temp.home[0].number", "bold": true, "underlined": true}]},"clickEvent": {"action": "suggest_command","value": "/trigger tpa.home set "}}," ",{"storage": "tpa:tpa","nbt": "loaded_lang.home_display_rm_button","hoverEvent": {"action": "show_text","value": [{"storage": "tpa:tpa", "nbt": "loaded_lang.home_display_rm_button_hoverevent"},{"storage": "tpa:tpa", "nbt": "loaded_lang.hoverevent_suggest_tip"}," §l/trigger tpa.removehome set ",{"storage": "tpa:tpa", "nbt": "temp.home[0].number", "bold": true, "underlined": true}]},"clickEvent": {"action": "suggest_command","value": "/trigger tpa.removehome set "}}," ",{"storage": "tpa:tpa","nbt": "loaded_lang.home_display_set_button","hoverEvent": {"action": "show_text","value": [{"storage": "tpa:tpa", "nbt": "loaded_lang.home_display_set_button_hoverevent"},{"storage": "tpa:tpa", "nbt": "loaded_lang.hoverevent_suggest_tip"}," §l/trigger tpa.sethome set ",{"storage": "tpa:tpa", "nbt": "temp.home[0].number", "bold": true, "underlined": true}]},"clickEvent": {"action": "suggest_command","value": "/trigger tpa.sethome set "}}]
execute if data storage tpa:tpa temp.home[0].x if score #dim_num tpa.variables matches 1 run tellraw @s ["  ",{"storage": "tpa:tpa","nbt": "loaded_lang.home_number","color": "light_purple","hoverEvent": {"action": "show_text","value": [{"nbt": "temp.home[0].x", "storage": "tpa:tpa", "color": "light_purple"}," ",{"nbt": "temp.home[0].y", "storage": "tpa:tpa", "color": "light_purple"}," ",{"nbt": "temp.home[0].z", "storage": "tpa:tpa", "color": "light_purple"}]}},{"score": {"name": "#i", "objective": "tpa.variables"}, "color": "light_purple"}," ",{"storage": "tpa:tpa","nbt": "loaded_lang.home_display_tp_button","hoverEvent": {"action": "show_text","value": [{"storage": "tpa:tpa", "nbt": "loaded_lang.home_display_tp_button_hoverevent"},{"storage": "tpa:tpa", "nbt": "loaded_lang.hoverevent_suggest_tip"}," §l/trigger tpa.home set ",{"storage": "tpa:tpa", "nbt": "temp.home[0].number", "bold": true, "underlined": true}]},"clickEvent": {"action": "suggest_command","value": "/trigger tpa.home set "}}," ",{"storage": "tpa:tpa","nbt": "loaded_lang.home_display_rm_button","hoverEvent": {"action": "show_text","value": [{"storage": "tpa:tpa", "nbt": "loaded_lang.home_display_rm_button_hoverevent"},{"storage": "tpa:tpa", "nbt": "loaded_lang.hoverevent_suggest_tip"}," §l/trigger tpa.removehome set ",{"storage": "tpa:tpa", "nbt": "temp.home[0].number", "bold": true, "underlined": true}]},"clickEvent": {"action": "suggest_command","value": "/trigger tpa.removehome set "}}," ",{"storage": "tpa:tpa","nbt": "loaded_lang.home_display_set_button","hoverEvent": {"action": "show_text","value": [{"storage": "tpa:tpa", "nbt": "loaded_lang.home_display_set_button_hoverevent"},{"storage": "tpa:tpa", "nbt": "loaded_lang.hoverevent_suggest_tip"}," §l/trigger tpa.sethome set ",{"storage": "tpa:tpa", "nbt": "temp.home[0].number", "bold": true, "underlined": true}]},"clickEvent": {"action": "suggest_command","value": "/trigger tpa.sethome set "}}]
# Show missing home line
execute unless data storage tpa:tpa temp.home[0].x run tellraw @s ["  ", {"storage": "tpa:tpa", "nbt": "loaded_lang.home_number", "hoverEvent": {"action": "show_text", "value": {"storage": "tpa:tpa", "nbt": "loaded_lang.home_missing_hoverevent"}}}, {"score": {"name": "#i", "objective": "tpa.variables"}}, " ", {"storage": "tpa:tpa", "nbt": "loaded_lang.home_create_button", "hoverEvent": {"action": "show_text","value": [{"storage": "tpa:tpa", "nbt": "loaded_lang.home_create_button_hoverevent"}, " ", {"storage": "tpa:tpa", "nbt": "loaded_lang.hoverevent_suggest_tip"}, "§l/trigger tpa.sethome set ", {"score": {"name": "#i", "objective": "tpa.variables"}, "bold": true, "underlined": true}]}, "clickEvent": {"action": "suggest_command","value": "/trigger tpa.sethome set "}}]

data remove storage tpa:tpa temp.home[0]

# i++
scoreboard players add #i tpa.variables 1

execute if data storage tpa:tpa temp.home[0] run function tpa:home/display_homes